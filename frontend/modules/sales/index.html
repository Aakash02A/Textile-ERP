<!-- Sales Module -->

<!-- Sales Dashboard Section -->
<section id="sales-dashboard" class="space-y-6">
    <!-- KPI Cards -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
        <!-- Total Sales -->
        <div class="bg-white rounded-lg shadow p-6 hover:shadow-lg transition">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-gray-600 text-sm font-medium">Total Sales (MTD)</p>
                    <p class="text-2xl font-bold text-gray-900 mt-2" id="totalSales">$0</p>
                    <p class="text-green-600 text-sm mt-2">â†‘ 15% from last month</p>
                </div>
                <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                    <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Active Orders -->
        <div class="bg-white rounded-lg shadow p-6 hover:shadow-lg transition">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-gray-600 text-sm font-medium">Active Orders</p>
                    <p class="text-2xl font-bold text-gray-900 mt-2" id="activeOrders">0</p>
                    <p class="text-blue-600 text-sm mt-2">Pending Fulfillment</p>
                </div>
                <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                    <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Customers -->
        <div class="bg-white rounded-lg shadow p-6 hover:shadow-lg transition">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-gray-600 text-sm font-medium">Total Customers</p>
                    <p class="text-2xl font-bold text-gray-900 mt-2" id="totalCustomers">0</p>
                    <p class="text-green-600 text-sm mt-2">Active</p>
                </div>
                <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                    <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.856-1.487M15 10a3 3 0 11-6 0 3 3 0 016 0zM6 20h12a1 1 0 001-1v-2a6 6 0 00-12 0v2a1 1 0 001 1z"></path>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Fulfillment Rate -->
        <div class="bg-white rounded-lg shadow p-6 hover:shadow-lg transition">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-gray-600 text-sm font-medium">Fulfillment Rate</p>
                    <p class="text-2xl font-bold text-gray-900 mt-2" id="fulfillmentRate">94%</p>
                    <p class="text-green-600 text-sm mt-2">Target: 95%</p>
                </div>
                <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center">
                    <svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                    </svg>
                </div>
            </div>
        </div>
    </div>

    <!-- Sales Orders -->
    <div class="bg-white rounded-lg shadow">
        <div class="p-6 border-b border-gray-200 flex justify-between items-center">
            <h3 class="text-lg font-bold text-gray-900">Recent Sales Orders</h3>
            <button onclick="loadOperation('create-sales-order')" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition">
                + New Order
            </button>
        </div>
        <div class="overflow-x-auto">
            <table class="w-full">
                <thead class="bg-gray-50 border-b border-gray-200">
                    <tr>
                        <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">SO Number</th>
                        <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Customer</th>
                        <th class="px-6 py-3 text-right text-sm font-semibold text-gray-700">Amount</th>
                        <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Status</th>
                        <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Delivery Date</th>
                        <th class="px-6 py-3 text-center text-sm font-semibold text-gray-700">Actions</th>
                    </tr>
                </thead>
                <tbody id="salesOrdersTable" class="divide-y divide-gray-200">
                    <tr class="hover:bg-gray-50 transition">
                        <td class="px-6 py-4 text-sm font-medium text-gray-900">SO-042</td>
                        <td class="px-6 py-4 text-sm text-gray-700">ABC Textiles</td>
                        <td class="px-6 py-4 text-sm text-right text-gray-700">$15,000</td>
                        <td class="px-6 py-4 text-sm">
                            <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-medium">Delivered</span>
                        </td>
                        <td class="px-6 py-4 text-sm text-gray-700">2025-12-05</td>
                        <td class="px-6 py-4 text-center">
                            <button onclick="viewSalesOrder('042')" class="text-blue-600 hover:text-blue-800 text-sm font-medium">View</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>

<!-- Customers Section -->
<section id="customers" class="bg-white rounded-lg shadow" style="display: none;">
    <div class="p-6 border-b border-gray-200 flex justify-between items-center">
        <h3 class="text-lg font-bold text-gray-900">Customers</h3>
        <button onclick="loadOperation('create-customer')" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition">
            + Add Customer
        </button>
    </div>
    <div id="customersList" class="divide-y divide-gray-200">
        <!-- Customers will be populated here -->
    </div>
</section>

<!-- Sales Orders List Section -->
<section id="sales-orders" class="bg-white rounded-lg shadow" style="display: none;">
    <div class="p-6 border-b border-gray-200">
        <h3 class="text-lg font-bold text-gray-900">All Sales Orders</h3>
    </div>
    <div id="allSalesOrdersList" class="divide-y divide-gray-200">
        <!-- Sales orders will be populated here -->
    </div>
</section>

<!-- Create Sales Order Section -->
<section id="create-sales-order" class="bg-white rounded-lg shadow p-6 max-w-3xl" style="display: none;">
    <h3 class="text-lg font-bold text-gray-900 mb-6">Create Sales Order</h3>
    <form id="createSalesOrderForm" class="space-y-4">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Customer *</label>
                <select required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                    <option value="">Select Customer</option>
                </select>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Delivery Date *</label>
                <input type="date" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
            </div>
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700 mb-3">Order Items</label>
            <div id="soItemsContainer" class="space-y-3 mb-3">
                <div class="so-item-row flex gap-2">
                    <select class="so-material flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                        <option>Select Material</option>
                    </select>
                    <input type="number" placeholder="Qty" min="1" class="so-quantity w-20 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                    <input type="text" placeholder="Unit Price" class="so-price w-24 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                    <button type="button" onclick="removeSoItem(this)" class="bg-red-100 text-red-600 px-3 py-2 rounded hover:bg-red-200">Remove</button>
                </div>
            </div>
            <button type="button" onclick="addSoItem()" class="text-purple-600 hover:text-purple-800 text-sm font-medium">+ Add Item</button>
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Notes</label>
            <textarea placeholder="Enter sales notes..." rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"></textarea>
        </div>

        <div class="flex space-x-3">
            <button type="submit" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg font-medium transition">
                Create Order
            </button>
            <button type="button" onclick="loadOperation('sales-dashboard')" class="bg-gray-300 hover:bg-gray-400 text-gray-700 px-6 py-2 rounded-lg font-medium transition">
                Cancel
            </button>
        </div>
    </form>
</section>

<!-- Create Customer Section -->
<section id="create-customer" class="bg-white rounded-lg shadow p-6 max-w-2xl" style="display: none;">
    <h3 class="text-lg font-bold text-gray-900 mb-6">Add New Customer</h3>
    <form id="createCustomerForm" class="space-y-4">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Customer Name *</label>
                <input type="text" placeholder="Enter company name" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                <input type="email" placeholder="customer@email.com" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Phone</label>
                <input type="tel" placeholder="+1 (555) 123-4567" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Credit Limit</label>
                <input type="number" placeholder="0.00" step="0.01" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
            </div>
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Address</label>
            <textarea placeholder="Enter full address" rows="2" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"></textarea>
        </div>

        <div class="flex space-x-3">
            <button type="submit" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg font-medium transition">
                Add Customer
            </button>
            <button type="button" onclick="loadOperation('customers')" class="bg-gray-300 hover:bg-gray-400 text-gray-700 px-6 py-2 rounded-lg font-medium transition">
                Cancel
            </button>
        </div>
    </form>
</section>
